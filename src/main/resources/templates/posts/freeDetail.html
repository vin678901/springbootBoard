<!DOCTYPE html>
<html layout:decorate="~{layouts/layout1}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
>
<th:block layout:fragment="script">

    <script th:inline="javascript">
function likeIt() {
  var postId = /* 게시물 ID */;
  var email = /* 현재 사용자의 이메일 */;

  $.ajax({
    url: '/free/' + postId + '/like',
    type: 'POST',
    contentType: 'application/json',
    data: JSON.stringify({ email: email }),
    success: function() {
      /* 좋아요 성공 처리 */
    },
    error: function() {
      /* 좋아요 실패 처리 */
    }
  });
}

    </script>
</th:block>
<div layout:fragment="content" style="margin-left:25%;margin-right:25%">

    <div>
        <table class="table table-horizontal table-bordered">
            <thead class="thead-strong">
            <tr>
                <th>제목</th>
            </tr>
            </thead>
            <tbody id="tbody">

            <tr th:each="freePosts : ${freePosts}">
                <td th:text="${freePosts.title}"></td>
            </tr>

            </tbody>
        </table>
    </div>
    <button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" onclick="likeIt()">
        좋아요
    </button>
    <div>
        <h2 th:text="${freePosts.title}"></h2>
        <p th:text="${freePosts.content}"></p>
        <p>작성자: <span th:text="${freePosts.nickName}"></span></p>
    </div>

</div>

</html>